<div class="container">
  <nav class="navbar navbar-expand-lg">
    <div class="container-fluid">
      <a class="navbar-brand fw-bold" href="#">Navbar</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNavDropdown">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link fs-5 fw-bold mx-3" aria-current="page" href="#">Accueil</a>
          </li>
          <li class="nav-item">
            <a class="nav-link fs-5 fw-bold mx-3" href="#">A propos</a>
          </li>
          <li class="nav-item">
            <a class="nav-link fs-5 fw-bold mx-3" href="#">Services</a>
          </li>
          <li class="nav-item">
            <a class="nav-link fs-5 fw-bold mx-3" href="#">Contact</a>
          </li>
          <!-- Display user name and logout button when user is signed in -->
          <% if user_signed_in? %>
            <!-- Display logout button when user is signed in -->
            <li class="nav-item">
              <%= link_to "Déconnexion", destroy_user_session_path, data: { turbo_method: :delete }, class: "nav-link fs-5 fw-bold mx-3" %>
            </li>
            <li class="nav-item">
              <span class="nav-link fs-5 fw-bold mx-3 text-muted no-animation"><%= current_user.username %></span>
            </li>
          <% else %>
            <!-- Display login and registration buttons when user is not signed in -->
            <!-- Button trigger modal Login -->
            <li class="nav-item">
              <a class="nav-link fs-5 fw-bold mx-3" href="#" data-bs-toggle="modal" data-bs-target="#loginModal">Connexion</a>
            </li>

            <!-- Button trigger modal Registration -->
            <!-- <li class="nav-item">
              <a class="nav-link fs-5 fw-bold mx-3" href="#" data-bs-toggle="modal" data-bs-target="#registerModal">Inscription</a>
            </li> -->
          <% end %>
          <!-- Login Modal -->
          <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header p-5 pb-4 border-bottom-0">
                  <h1 class="fw-bold mb-0 fs-2">Connexion</h1>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-5 pt-0">
                  <%= form_for(@resource, as: @resource_name, url: session_path(@resource_name), html: { class: "", "data-dashlane-rid" => "9ed8482a98a6f7aa", "data-form-type" => "login" }) do |f| %>
                    <%= f.hidden_field :authenticity_token, value: form_authenticity_token %>
                    <div class="form-floating mb-3">
                      <%= f.text_field :login, autofocus: true, autocomplete: "login", class: "form-control rounded-3", id: "floatingLogin", placeholder: "Email ou Pseudo", required: true %>
                      <label for="floatingLogin">Email ou Pseudo</label>
                    </div>
                    <div class="form-floating mb-3">
                      <%= f.password_field :password, autocomplete: "current-password", class: "form-control rounded-3", id: "floatingPassword", placeholder: "Password", required: true %>
                      <label for="floatingPassword">Mot de passe</label>
                    </div>
                    <button class="w-100 mb-2 btn btn-lg rounded-3 btn-primary" type="submit">Connexion</button>
                  <% end %>
                  <p class="mt-3">
                    <span class="text-muted">Pas encore de compte ?</span>
                    <a href="#" class="text-primary" data-bs-toggle="modal" data-bs-target="#registerModal">S'inscrire</a><br />
                    <a href="#" class="text-primary" data-bs-toggle="modal" data-bs-target="#passwordResetModal">Mot de passe oublié ?</a>
                  </p>
                </div>
              </div>
            </div>
          </div>
          <!-- End Login Modal -->
          <!-- Register Modal -->
          <div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="registerModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header p-5 pb-4 border-bottom-0">
                  <h1 class="fw-bold mb-0 fs-2">Inscription</h1>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-5 pt-0">
                  <%= form_for(@resource, as: @resource_name, url: user_registration_path, html: { class: "", "data-dashlane-rid" => "9ed8482a98a6f7aa", "data-form-type" => "register" }) do |f| %>
                    <% if @resource.errors.any? %>
                      <div id="error_explanation">
                        <h2><%= pluralize(@resource.errors.count, "erreur") %> empêche l'enregistrement :</h2>
                        <ul>
                          <% @resource.errors.full_messages.each do |message| %>
                            <li><%= message %></li>
                          <% end %>
                        </ul>
                      </div>
                    <% end %>
                    <div class="form-floating mb-3">
                      <%= f.text_field :username, autofocus: true, autocomplete: "username", class: "form-control rounded-3", id: "floatingUsername", placeholder: "Pseudo", required: true %>
                      <label for="floatingUsername">Pseudo</label>
                    </div>
                    <div class="form-floating mb-3">
                      <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "form-control rounded-3", id: "floatingInput", placeholder: "name@login.com", required: true %>
                      <label for="floatingInput">Email</label>
                    </div>
                    <div class="form-floating mb-3">
                      <%= f.password_field :password, autocomplete: "new-password", class: "form-control rounded-3", id: "floatingPassword", placeholder: "Password", required: true %>
                      <label for="floatingPassword">Mot de passe</label>
                    </div>
                    <div class="form-floating mb-3">
                      <%= f.password_field :password_confirmation, autocomplete: "new-password", class: "form-control rounded-3", id: "floatingPasswordConfirmation", placeholder: "Password Confirmation", required: true %>
                      <label for="floatingPasswordConfirmation">Confirmation du mot de passe</label>
                    </div>
                    <button class="w-100 mb-2 btn btn-lg rounded-3 btn-primary" type="submit">S'inscrire</button>
                  <% end %>
                  <p class="mt-3">
                    <span class="text-muted">Déjà un compte ?</span>
                    <a href="#" class="text-primary" data-bs-toggle="modal" data-bs-target="#loginModal">Connexion</a><br />
                  </p>
                </div>
              </div>
            </div>
          </div>
          <!-- End Register Modal -->
          <!-- Password Reset Modal -->
          <div class="modal fade" id="passwordResetModal" tabindex="-1" aria-labelledby="passwordResetModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header p-5 pb-4 border-bottom-0">
                  <h1 class="fw-bold mb-0 fs-2">Mot de passe oublié ?</h1>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-5 pt-0">
                  <%= form_for(@resource, as: @resource_name, url: password_path(@resource_name), html: { class: "", "data-dashlane-rid" => "9ed8482a98a6f7aa", "data-form-type" => "password_reset" }) do |f| %>
                    <%= f.hidden_field :authenticity_token, value: form_authenticity_token %>
                    <div class="form-floating mb-3">
                      <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "form-control rounded-3", id: "floatingResetEmail", placeholder: "name@login.com", required: true %>
                      <label for="floatingResetEmail">Email</label>
                    </div>
                    <button class="w-100 mb-2 btn btn-lg rounded-3 btn-primary" type="submit">Réinitialiser le mot de passe</button>
                  <% end %>
                  <p class="mt-3">
                    <span class="text-muted">Déjà un compte ?</span>
                    <a href="#" class="text-primary" data-bs-toggle="modal" data-bs-target="#loginModal">Connexion</a><br />
                    <span class="text-muted">Pas encore de compte ?</span>
                    <a href="#" class="text-primary" data-bs-toggle="modal" data-bs-target="#registerModal">S'inscrire</a>
                  </p>
                </div>
              </div>
            </div>
          </div>
          <!-- End Password Reset Modal -->
        </ul>
      </div>
    </div>
  </nav>
</div>